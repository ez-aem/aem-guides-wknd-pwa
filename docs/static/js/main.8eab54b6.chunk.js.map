{"version":3,"sources":["CONSTANTS.js","utils/getRemoteImageSrc.js","components/FeaturedTile.js","api/useGraphQL.js","components/Image.js","components/Card.js","screens/Error.js","screens/Adventures.js","screens/Detail.js","components/aem/aem-title.js","components/aem/aem-text.js","components/aem/aem-teaser.js","components/aem/aem-image.js","components/aem/aem-responsive-grid.js","screens/Home.js","components/TabBar.js","App.js","reportWebVitals.js","index.js"],"names":["URL","Theme","primary","accent","background","surface","error","text","onSurface","disabled","placeholder","backdrop","notification","getRemoteImageSrc","imagePath","startsWith","FeaturedTile","props","title","imgSrc","subtitle","height","link","contentWrapperStyles","textColor","styles","container","width","maxWidth","textDecoration","display","flexDirection","contentWrapper","padding","color","flex","fontSize","textTransform","margin","imgBG","titleSkeleton","boxShadow","backgroundSize","backgroundColor","content","style","className","to","useGraphQL","query","path","useState","data","setData","errorMessage","setErrors","useEffect","sdk","AEMHeadless","serviceURL","endpoint","runQuery","bind","runPersistedQuery","then","errors","map","message","join","mapErrors","catch","Image","imageContainer","src","image","alt","position","paddingTop","overflow","top","right","bottom","left","objectFit","ErrorScreen","Adventures","adventureList","items","marginBottom","list","gridTemplateColumns","gap","Detail","_path","URLSearchParams","useLocation","search","get","adventureByPath","item","adventureTitle","descriptionJSON","adventureDescription","json","adventurePrimaryImage","description","node","key","Element","nodeType","value","RESOURCE_TYPE","EditConfig","emptyLabel","isEmpty","TitleV2IsEmptyFn","resourceType","MapTo","TitleV2","AEMTitle","withMappable","TextV2IsEmptyFn","TextV2","TeaserV1IsEmptyFn","TeaserV1","ImageV2IsEmptyFn","ImageV2","AEMImage","cqItemsOrder","length","ResponsiveGrid","AdventuresList","index","Home","pagePath","homepageHero","homepageHeroImage","itemPath","homepageHeroTitleSearch","homepageHeroTitle","homepageHeroSearch","gridTemplateRows","gridTemplateAreas","gridArea","alignSelf","justifySelf","marginTop","textAlign","zIndex","borderRadius","border","adventureListContainer","overflowX","TabBar","location","isHomeSelected","pathname","isAdventuresSelected","tabsContainer","tabs","tab","size","tabText","listStyle","alignItems","justifyContent","fontFamily","App","exact","minHeight","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ModelManager","initializeAsync","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+SAAaA,EAAM,yDAMNC,EAGH,CACNC,QAAS,UACTC,OAAQ,UACRC,WAAY,UACZC,QAAS,UACTC,MAAO,UACPC,KAAM,OACNC,UAAW,UACXC,SAAU,mBACVC,YAAa,mBACbC,SAAU,mBACVC,aAAc,oBClBH,SAASC,EAAkBC,GACxC,QAAKA,IACAA,EAAUC,WAAW,QACnBD,EADkC,GAAN,OAAUd,GAAV,OAAgBc,I,WCCtC,SAASE,EAAaC,GAAQ,IACnCC,EAA2ED,EAA3EC,MAAOC,EAAoEF,EAApEE,OAAQC,EAA4DH,EAA5DG,SAAUC,EAAkDJ,EAAlDI,OADS,EACyCJ,EAA1CK,YADC,MACM,IADN,IACyCL,EAA9BM,4BADX,MACkC,GADlC,EAEpCC,EAAYP,EAAMO,UACtBP,EAAMO,UACNL,EACElB,EAAaG,WACbH,EAAaM,KAEXkB,EAAS,CACbC,UAAW,CACTC,MAAO,QACPC,SAAU,OACVP,OAAQA,GAAkB,OAC1BQ,eAAgB,OAChBC,QAAS,OACTC,cAAe,UAEjBC,eAAe,2BACVT,GADS,IAEZU,QAAS,OACTC,MAAOV,IAETF,KAAM,CACJa,KAAM,EACNN,eAAgB,QAElBX,MAAO,CACLkB,SAAU,OACVF,MAAO,UACPG,cAAe,YACfC,OAAQ,GAEVlB,SAAU,CACRiB,cAAe,YACfD,SAAU,OACVF,MAAO,UACPI,OAAQ,GAEVC,MAAO,CACLJ,KAAM,EAENF,QAASX,EAAO,EAAI,OACpBQ,QAAS,QAEXU,cAAe,CACbnB,OAAQ,SACRM,MAAO,MACPc,UAAW,6BAIVpB,IAAQI,EAAOC,UAAUS,KAAO,GACjChB,GACFM,EAAOc,MAAMnC,WAAb,cAAiCS,EAAkBM,GAAnD,KACAM,EAAOc,MAAMG,eAAiB,SAE9BjB,EAAOc,MAAMI,gBAAkB,cAGjC,IAAMC,EAAU,kBACd,sCACI1B,GAAS,qBAAK2B,MAAOpB,EAAOe,cAAeM,UAAU,sBACrD5B,GAASE,IAAa,sBAAKyB,MAAOpB,EAAOO,eAAnB,UACrBd,GAAS,oBAAI2B,MAAOpB,EAAOP,MAAlB,SAA0BA,IACnCE,GAAY,mBAAGyB,MAAOpB,EAAOL,SAAjB,SAA4BA,WAU/C,OACE,qBAAKyB,MAAOpB,EAAOC,UAAWoB,UAAW3B,EAAS,GAAK,mBAAvD,SACE,qBAAK0B,MAAOpB,EAAOc,MAAnB,SANEjB,EAAa,cAAC,OAAD,CAAMyB,GAAIzB,EAAMuB,MAAOpB,EAAOH,KAA9B,SAAqCsB,MAC1CA,Q,YC3DD,SAASI,EAAWC,EAAOC,GAAO,IAAD,EACxBC,mBAAS,MADe,mBACzCC,EADyC,KACnCC,EADmC,OAEdF,mBAAS,MAFK,mBAEzCG,EAFyC,KAE3BC,EAF2B,KAwB9C,OApBAC,qBAAU,WACR,IAAMC,EAAM,IAAIC,cAAY,CAAEC,WAAY3D,EAAK4D,SHrBnB,0BGsBZX,EAAQQ,EAAII,SAASC,KAAKL,GAAOA,EAAIM,kBAAkBD,KAAKL,IAEpER,GAASC,GACdc,MAAK,YAAuB,IAApBZ,EAAmB,EAAnBA,KAAMa,EAAa,EAAbA,OAETA,GACFV,EAmBV,SAAmBU,GACjB,OAAOA,EAAOC,KAAI,SAAC5D,GAAD,OAAWA,EAAM6D,WAASC,KAAK,KApB/BC,CAAUJ,IAGlBb,GACFC,EAAQD,MAGXkB,OAAM,SAAChE,GACNiD,EAAUjD,QAEb,CAAC2C,EAAOC,IAEJ,CAAEE,OAAME,gBCvCF,SAASiB,EAAT,GAAmC,IAAlBpD,EAAiB,EAAjBA,OAAQD,EAAS,EAATA,MAEtC,OACE,qBAAK2B,MAAOpB,EAAO+C,eAAgB1B,UAAU,mBAA7C,SACG3B,GAAU,qBAAKsD,IAAK5D,EAAkBM,GAAS0B,MAAOpB,EAAOiD,MAAOC,IAAKzD,MAKhF,IAAMO,EAAS,CACb+C,eAAgB,CACdI,SAAU,WACVC,WAAY,MACZC,SAAU,UAEZJ,MAAO,CACL/C,MAAO,OACPC,SAAU,OACVgD,SAAU,WACVG,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,UAAW,UCUJlF,EAAaM,KCnCT,SAAS6E,EAAT,GAAiC,IAAV9E,EAAS,EAATA,MACpC,OACE,gCACE,uCACA,+BAAOA,EAAM6D,aC6BJ,SAASkB,IAAc,IAAD,IAETlC,mBAAS,IAFA,mBAE5BF,EAF4B,aAKJD,EAAWC,EAFlB,wBAEhBG,EAL2B,EAK3BA,KAAME,EALqB,EAKrBA,aAEd,OAAIA,EAAqB,cAAC8B,EAAD,CAAa9E,MAAOgD,MAE7C,OAAIF,QAAJ,IAAIA,GAAJ,UAAIA,EAAMkC,qBAAV,aAAI,EAAqBC,QAAwBnC,EAAKkC,cAAcC,MAGlE,sBAAK1C,MAAOpB,EAAOC,UAAnB,UACE,cAACV,EAAD,CACEG,OAAO,iFACPD,MAAM,kBACNG,OAAO,UAET,oBAAIwB,MAAOpB,EAAOP,MAAlB,gCAMN,IAAMO,EAAS,CACbC,UAAW,CACTS,KAAM,EACNL,QAAS,OACTC,cAAe,SACfyD,aAAc,QAEhBtE,MAAO,CACLe,QAAS,cACTK,OAAQ,EACRD,cAAe,aAEjBoD,KAAM,CACJxD,QAAS,OACTH,QAAS,OACT4D,oBAAqB,UACrBC,IAAK,SCjEM,SAASC,IAAU,IAAD,gBAGzBC,EADQ,IAAIC,gBAAgBC,cAAcC,QAC5BC,IAAI,SAHO,EAIAjD,EAAW,KAAD,URRf,sCQQe,OAAyB6C,IAA1DzC,EAJuB,EAIvBA,KAAME,EAJiB,EAIjBA,aACd,GAAIA,EAAc,OAAO,cAAC8B,EAAD,CAAa9E,MAAOgD,IAE7C,IAAMpC,GAAY,OAAJkC,QAAI,IAAJA,GAAA,UAAAA,EAAM8C,uBAAN,mBAAuBC,YAAvB,eAA6BC,kBAAkB,EACvDC,GAAsB,OAAJjD,QAAI,IAAJA,GAAA,UAAAA,EAAM8C,uBAAN,mBAAuBC,YAAvB,mBAA6BG,4BAA7B,eAAmDC,QAAQ,EAC7EpF,GAAa,OAAJiC,QAAI,IAAJA,GAAA,UAAAA,EAAM8C,uBAAN,mBAAuBC,YAAvB,mBAA6BK,6BAA7B,eAAoDX,SAAS,EAE5E,OACE,sBAAKhD,MAAOpB,EAAOC,UAAWoB,UAAU,gBAAxC,WACI5B,GAAS,qBAAK4B,UAAU,mBAAmBD,MAAOpB,EAAOe,gBAC1DtB,GAAS,oBAAI2B,MAAOpB,EAAOP,MAAlB,SAA0BA,IACpC,cAACqD,EAAD,CAAOpD,OAAQA,EAAQwD,IAAKzD,IAC5B,qBAAK2B,MAAOpB,EAAOgF,YAAnB,SACGJ,GAAmBA,EAAgBnC,KAAI,SAACwC,EAAMC,GAC7C,IAAMC,EAA4B,WAAlBF,EAAKG,SAAL,UAAgCH,EAAK7D,OAAU,IAC/D,OAAO,cAAC+D,EAAD,UAAoBF,EAAK9D,QAAQsB,KAAI,qBAAG4C,UAA1BH,WAO/B,IAAMlF,EAAS,CACbC,UAAW,CACTS,KAAM,GAERjB,MAAO,CACLe,QAAS,OACTG,SAAU,SACVC,cAAe,YACfT,SAAU,OACVU,OAAQ,GAEVmE,YAAa,CACXxE,QAAS,QAEXO,cAAe,CACbnB,OAAQ,SACRM,MAAO,MACPW,OAAQ,S,sBC5CNyE,EAAgB,4BAGhBC,EAAa,CACjBC,WAAY,QACZC,QAASC,mBACTC,aAAcL,GAIhBM,gBAAMN,EAANM,CAAqBC,UAASN,GAG9B,IAEeO,EAFEC,uBAAaF,UAASN,GCjBjCD,EAAgB,2BAEhBC,EAAa,CACjBC,WAAY,OACZC,QAASO,kBACTL,aAAcL,GAGhBM,gBAAMN,EAANM,CAAqBK,SAAQV,GAEbQ,uBAAaE,SAAQV,GAArC,ICNMD,EAAgB,6BAGhBC,EAAa,CACjBC,WAAY,SACZC,QAASS,oBACTP,aAAcL,GAIhBM,gBAAMN,EAANM,CAAqBO,WAAUZ,GAGbQ,uBAAaI,WAAUZ,GAAzC,ICjBMD,EAAgB,4BAEhBC,EAAa,CACjBC,WAAY,QACZC,QAASW,mBACTT,aAAcL,GAGhBM,gBAAMN,EAANM,CAAqBS,UAASd,GAE9B,IAEee,EAFEP,uBAAaM,UAASd,GCJjCD,G,MAAgB,4CAGhBC,EAAa,CACjBC,WAAY,mBACZC,QAAS,SAAUjG,GACjB,OAA6B,MAAtBA,EAAM+G,cAAsD,IAA9B/G,EAAM+G,aAAaC,QAE1Db,aAAcL,GAIhBM,gBAAMN,EAANM,CAAqBa,iBAAgBlB,GAGXQ,uBAAaU,iBAAgBlB,GCTvD,SAASmB,EAAe/E,GACtB,OAAKA,EACEA,EAAKkC,cAAcC,MAAMrB,KAAI,SAACiC,EAAMiC,GAAP,OAClC,qBAAKvF,MAAO,CAAElB,MAAO,QAArB,SACE,cAACX,EAAD,CAEEM,KAAI,wBAAmB6E,EAAKN,OAC5BxE,OAAO,OACPH,MAAOiF,EAAKC,eACZjF,OAAQgF,EAAKK,sBAAsBX,QAAS,EAC5CtE,qBAAsB,CACpBoB,gBAAiB,iBACjBhB,MAAO,MACPN,OAAQ,QAEVG,UAAWvB,EAAaM,MAVnB6H,QAJO,cAACpH,EAAD,IAmBL,SAASqH,IACtB,IAD6B,EAEErF,EAAW,KADlB,uBAChBI,EAFqB,EAErBA,KAAME,EAFe,EAEfA,aACRgF,EAAW,+BAEjB,OAAIhF,EAAqB,cAAC8B,EAAD,CAAa9E,MAAOgD,IAG3C,sBAAKT,MAAOpB,EAAOC,UAAnB,UAEE,sBAAKmB,MAAOpB,EAAO8G,aAAnB,UACE,qBAAK1F,MAAOpB,EAAO+G,kBAAmB1F,UAAU,8BAAhD,SACE,cAAC,EAAD,CAAUrB,OAAQA,EAAO+G,kBAAmBF,SAAUA,EAAUG,SAAS,iBAE3E,sBAAK5F,MAAOpB,EAAOiH,wBAAnB,UACE,qBAAK7F,MAAOpB,EAAOkH,kBAAnB,SACE,cAAC,EAAD,CAAUlH,OAAQA,EAAOkH,kBAAmBL,SAAUA,EAAUG,SAAS,iBAE3E,uBAAO5F,MAAOpB,EAAOmH,mBAAoBlI,YAAY,mCAIzD,qBAAKmC,MAAOpB,EAAO6D,cAAnB,SACG6C,EAAe/E,QAMxB,IAAM3B,EAAS,CACbC,UAAW,CACTS,KAAM,EACNL,QAAS,OACT+G,iBAAkB,WAEpBN,aAAc,CACZzG,QAAS,OACTgH,kBAAkB,YAClB3G,KAAM,GAERuG,wBAAyB,CACvBK,SAAU,UACVC,UAAW,aACXC,YAAa,SACbC,UAAW,QACXC,UAAW,SACXC,OAAQ,GACRxE,SAAU,YAEZ+D,kBAAmB,CACjBzG,MAAOjC,EAAaG,YAEtBoI,kBAAmB,CACjBO,SAAU,WAEZH,mBAAoB,CAClBG,SAAU,UACVC,UAAW,aACXC,YAAa,SACbhH,QAAS,aACTiH,UAAW,SACXG,aAAc,OACdC,OAAQ,OACR7G,UAAW,0BAEb8G,uBAAwB,CACtBzE,SAAU,SACV3C,KAAM,GAERmD,cAAe,CACbxD,QAAS,OACTC,cAAe,MACfyH,UAAW,S,wBCpGA,SAASC,IAEtB,IAAMC,EAAW3D,cACX4D,EAAuC,MAAtBD,EAASE,SAC1BC,EAA6C,gBAAtBH,EAASE,SACtC,OACE,mCACE,qBAAK/G,MAAOpB,EAAOqI,cAAnB,SACE,sBAAKjH,MAAOpB,EAAOsI,KAAnB,UACE,eAAC,OAAD,CAAMhH,GAAG,IAAIF,MAAK,2BAAOpB,EAAOuI,KAAd,IAAmB9H,MAAOyH,EAAiB1J,EAAaE,OAASF,EAAaM,OAAhG,UACE,cAAC,IAAD,CAAQ0J,KAAK,SACb,sBAAMpH,MAAOpB,EAAOyI,QAApB,qBAEF,eAAC,OAAD,CAAMnH,GAAG,cAAcF,MAAK,2BAAOpB,EAAOuI,KAAd,IAAmB9H,MAAO2H,EAAuB5J,EAAaE,OAASF,EAAaM,OAAhH,UACE,cAAC,IAAD,CAAa0J,KAAK,SAClB,sBAAMpH,MAAOpB,EAAOyI,QAApB,kCAQZ,IAAMzI,EAAS,CACbqI,cAAe,CACb7H,QAAS,SACTmH,OAAQ,GACRzG,gBAAiB1C,EAAaG,WAC9BiB,OAAQ,QAEV0I,KAAM,CACJjI,QAAS,OACTC,cAAe,MACfoI,UAAW,OACX7H,OAAQ,EACRL,QAAS,EACTmI,WAAY,SACZC,eAAgB,iBAElBL,IAAK,CACHlI,QAAS,OACTC,cAAe,SACfsI,eAAgB,SAChBD,WAAY,SACZlI,MAAOjC,EAAaM,KACpB4B,KAAM,EACNF,QAAS,OACTJ,eAAgB,QAElBqI,QAAS,CACPI,WAAY,oBC/CD,SAASC,IAEtB,OACE,qBAAK1H,MAAOpB,EAAOC,UAAnB,SACE,eAAC,aAAD,WACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO8I,OAAK,EAACtH,KAAK,cAAlB,SACE,cAACmC,EAAD,MAEF,cAAC,IAAD,CAAOnC,KAAK,UAAZ,SACE,cAAC0C,EAAD,MAEF,cAAC,IAAD,CAAO1C,KAAK,IAAZ,SACE,cAAC,EAAD,SAGJ,cAACuG,EAAD,SAMR,IAAMhI,EAAS,CACbC,UAAW,CACTI,QAAS,OACTK,KAAM,EACNsI,UAAW,QACX9I,MAAO,QACPC,SAAU,OACVgD,SAAU,WACV7C,cAAe,SACfY,gBAAiB1C,EAAaG,WAC9ByE,WAAY,OACZ3C,MAAOjC,EAAaM,OC/BTmK,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5G,MAAK,YAAkD,IAA/C6G,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,eAAaC,kBAEbC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bd,M","file":"static/js/main.8eab54b6.chunk.js","sourcesContent":["export const URL = \"https://publish-p25404-e45662-cmstg.adobeaemcloud.com/\";\r\nexport const GRAPHQL_ENDPOINT = \"graphql/execute.json\";\r\nexport const HOME_SCREEN_DATA = \"wknd/native-app-home\";\r\nexport const ADVENTURES_DATA = \"wknd/native-app-adventures\";\r\nexport const ARTICLE_DATA = \"wknd/native-app-adventure%3bapath=\";\r\n\r\nexport const Theme = {\r\n  dark: false,\r\n  roundness: 0,\r\n  colors: {\r\n    primary: \"#202020\",\r\n    accent: \"#FFEB00\",\r\n    background: \"#202020\",\r\n    surface: \"#202020\",\r\n    error: '#B00020',\r\n    text: \"#fff\",\r\n    onSurface: '#000000',\r\n    disabled: \"rgb(255, 69, 58)\",\r\n    placeholder: \"rgb(255, 69, 58)\",\r\n    backdrop: \"rgb(255, 69, 58)\",\r\n    notification: \"rgb(255, 69, 58)\",\r\n  },\r\n  animation: {\r\n    scale: 1.0,\r\n  },\r\n};\r\n","import { URL } from \"../CONSTANTS\";\r\n\r\nexport default function getRemoteImageSrc(imagePath) {\r\n  if (!imagePath) return false;\r\n  if (!imagePath.startsWith(\"http\")) return `${URL}${imagePath}`;\r\n  return imagePath;\r\n}","import { Link } from \"react-router-dom\";\r\n\r\nimport { Theme } from \"../CONSTANTS\";\r\nimport getRemoteImageSrc from \"../utils/getRemoteImageSrc\";\r\n\r\nexport default function FeaturedTile(props) {\r\n  const { title, imgSrc, subtitle, height, link = \"/\", contentWrapperStyles = {} } = props;\r\n  const textColor = props.textColor ?\r\n    props.textColor :\r\n    imgSrc ?\r\n      Theme.colors.background :\r\n      Theme.colors.text;\r\n\r\n  const styles = {\r\n    container: {\r\n      width: \"100vw\",\r\n      maxWidth: \"100%\",\r\n      height: height ? height : \"auto\",\r\n      textDecoration: \"none\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n    contentWrapper: {\r\n      ...contentWrapperStyles,\r\n      padding: \"20px\",\r\n      color: textColor\r\n    },\r\n    link: {\r\n      flex: 1,\r\n      textDecoration: \"none\",\r\n    },\r\n    title: {\r\n      fontSize: \"30px\",\r\n      color: \"inherit\",\r\n      textTransform: \"uppercase\",\r\n      margin: 0,\r\n    },\r\n    subtitle: {\r\n      textTransform: \"uppercase\",\r\n      fontSize: \"16px\",\r\n      color: \"inherit\",\r\n      margin: 0,\r\n    },\r\n    imgBG: {\r\n      flex: 1,\r\n\r\n      padding: link ? 0 : \"20px\",\r\n      display: \"flex\",\r\n    },\r\n    titleSkeleton: {\r\n      height: \"2.5rem\",\r\n      width: \"85%\",\r\n      boxShadow: \"0 0 5px rgb(0 0 0 / 50%)\",\r\n    }\r\n  }\r\n\r\n  if (!height) styles.container.flex = 1;\r\n  if (imgSrc) {\r\n    styles.imgBG.background = `url(${getRemoteImageSrc(imgSrc)})`;\r\n    styles.imgBG.backgroundSize = \"cover\";\r\n  } else {\r\n    styles.imgBG.backgroundColor = \"transparent\";\r\n  }\r\n\r\n  const content = () => (\r\n    <>\r\n      {!title && <div style={styles.titleSkeleton} className=\"loading-skeleton\"></div>}\r\n      {(title || subtitle) && <div style={styles.contentWrapper}>\r\n        {title && <h2 style={styles.title}>{title}</h2>}\r\n        {subtitle && <p style={styles.subtitle}>{subtitle}</p>}\r\n      </div>}\r\n    </>\r\n  )\r\n\r\n  const contentWrapper = () => {\r\n    if (link) return <Link to={link} style={styles.link}>{content()}</Link>\r\n    else return content();\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container} className={imgSrc ? \"\" : \"loading-skeleton\"}>\r\n      <div style={styles.imgBG}>\r\n        {contentWrapper()}\r\n      </div>\r\n    </div>\r\n  )\r\n}","/*\r\nCopyright 2020 Adobe\r\nAll Rights Reserved.\r\n\r\nNOTICE: Adobe permits you to use, modify, and distribute this file in\r\naccordance with the terms of the Adobe license agreement accompanying\r\nit.\r\n*/\r\nimport { useState, useEffect } from \"react\";\r\nimport { AEMHeadless } from \"@adobe/aem-headless-client-js\";\r\nimport { URL, GRAPHQL_ENDPOINT } from \"../CONSTANTS\";\r\n\r\n/**\r\n * Custom React Hook to perform a GraphQL query\r\n * @param query - GraphQL query\r\n * @param path - Persistent query path\r\n */\r\nexport default function useGraphQL(query, path) {\r\n  let [data, setData] = useState(null);\r\n  let [errorMessage, setErrors] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const sdk = new AEMHeadless({ serviceURL: URL, endpoint: GRAPHQL_ENDPOINT })\r\n    const request = query ? sdk.runQuery.bind(sdk) : sdk.runPersistedQuery.bind(sdk);\r\n\r\n    request(query || path)\r\n      .then(({ data, errors }) => {\r\n        //If there are errors in the response set the error message\r\n        if (errors) {\r\n          setErrors(mapErrors(errors));\r\n        }\r\n        //If data in the response set the data as the results\r\n        if (data) {\r\n          setData(data);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setErrors(error);\r\n      });\r\n  }, [query, path]);\r\n\r\n  return { data, errorMessage }\r\n}\r\n\r\n/**\r\n * concatenate error messages into a single string.\r\n * @param {*} errors\r\n */\r\nfunction mapErrors(errors) {\r\n  return errors.map((error) => error.message).join(\",\");\r\n}\r\n","import getRemoteImageSrc from \"../utils/getRemoteImageSrc\";\r\n\r\nexport default function Image({ imgSrc, title }) {\r\n\r\n  return (\r\n    <div style={styles.imageContainer} className=\"loading-skeleton\">\r\n      {imgSrc && <img src={getRemoteImageSrc(imgSrc)} style={styles.image} alt={title} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  imageContainer: {\r\n    position: \"relative\",\r\n    paddingTop: \"55%\",\r\n    overflow: \"hidden\",\r\n  },\r\n  image: {\r\n    width: \"100%\",\r\n    maxWidth: \"100%\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    objectFit: \"cover\"\r\n  },\r\n}","import { Link } from \"react-router-dom\";\r\n\r\nimport { Theme } from \"../CONSTANTS\";\r\nimport Image from \"./Image\";\r\n\r\nconst truncate = (text) => {\r\n  const maxLength = 65;\r\n  text = text.substr(0, maxLength);\r\n  text = text.substr(0, Math.min(text.length, text.lastIndexOf(\" \"))) + \"...\";\r\n  return text;\r\n}\r\n\r\nexport default function Card({ _path, title, description, imgSrc, descriptionJSON }) {\r\n\r\n  let descriptionText = false;\r\n  const filteredJSON = descriptionJSON.filter(({ nodeType }) => nodeType !== \"header\");\r\n  if (filteredJSON.length > 0) descriptionText = truncate(filteredJSON[0].content[0].value);\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <Link to={`/detail?_path=${_path}`} style={styles.link}>\r\n        <Image imgSrc={imgSrc} title={title} />\r\n        <h3 style={styles.title}>{title}</h3>\r\n        {descriptionText && <p style={styles.description}>{descriptionText}</p>}\r\n      </Link>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  link: {\r\n    textDecoration: \"none\",\r\n    color: Theme.colors.text,\r\n  },\r\n  title: {\r\n    textTransform: \"uppercase\",\r\n    marginTop: \".5rem\",\r\n    fontFamily: \"Source Sans Pro\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \".9rem\",\r\n  },\r\n  description: {\r\n    margin: 0,\r\n  }\r\n}","export default function ErrorScreen({ error }) {\r\n  return (\r\n    <div>\r\n      <h1>Error</h1>\r\n      <span>{error.message}</span>\r\n    </div>\r\n  );\r\n}","import { useState } from \"react\";\r\nimport FeaturedTile from \"../components/FeaturedTile\";\r\nimport useGraphQL from \"../api/useGraphQL\";\r\nimport { ADVENTURES_DATA } from \"../CONSTANTS\";\r\nimport Card from \"../components/Card\";\r\nimport ErrorScreen from \"../screens/Error\";\r\n\r\nfunction AdventuresList(data) {\r\n  if (!data) return false;\r\n\r\n  return (\r\n    <div style={styles.list}>\r\n      {data.map((item, index) => {\r\n        const _path = item._path;\r\n        const title = item?.adventureTitle || false;\r\n        const description = item?.adventureDescription?.html || false;\r\n        const descriptionJSON = item?.adventureDescription?.json || false;\r\n        const imgSrc = item?.adventurePrimaryImage?._path || false;\r\n        return (\r\n          <Card\r\n            _path={_path}\r\n            title={title}\r\n            description={description}\r\n            descriptionJSON={descriptionJSON}\r\n            imgSrc={imgSrc}\r\n            key={index}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function Adventures() {\r\n  let adventuresList = false;\r\n  const [query, setQuery] = useState('');\r\n  const persistentQuery = 'wknd/adventures-all';\r\n  //Use a custom React Hook to execute the GraphQL query\r\n  const { data, errorMessage } = useGraphQL(query, persistentQuery);\r\n\r\n  if (errorMessage) return <ErrorScreen error={errorMessage} />;\r\n\r\n  if (data?.adventureList?.items) adventuresList = data.adventureList.items;\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <FeaturedTile\r\n        imgSrc=\"/content/dam/wknd/en/adventures/cycling-southern-utah/AdobeStock_221043703.jpg\"\r\n        title=\"WKND Adventures\"\r\n        height=\"100px\"\r\n      />\r\n      <h2 style={styles.title}>Our Adventures</h2>\r\n    </div>\r\n  )\r\n}\r\n// {AdventuresList(adventuresList)}\r\n\r\nconst styles = {\r\n  container: {\r\n    flex: 1,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    marginBottom: \"6rem\",\r\n  },\r\n  title: {\r\n    padding: \"1rem 1rem 0\",\r\n    margin: 0,\r\n    textTransform: \"uppercase\",\r\n  },\r\n  list: {\r\n    padding: \"1rem\",\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"1fr 1fr\",\r\n    gap: \"1rem\",\r\n  }\r\n}\r\n\r\nfunction filterQuery(activity) {\r\n  return `\r\n    {\r\n      adventureList (filter: {\r\n        adventureActivity: {\r\n          _expressions: [\r\n            {\r\n              value: \"${activity}\"\r\n            }\r\n          ]\r\n        }\r\n      }){\r\n        items {\r\n          _path\r\n        adventureTitle\r\n        adventurePrice\r\n        adventureTripLength\r\n        adventurePrimaryImage {\r\n          ... on ImageRef {\r\n            _path\r\n            mimeType\r\n            width\r\n            height\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  `;\r\n}","import { useLocation } from \"react-router-dom\";\r\n\r\nimport useGraphQL from \"../api/useGraphQL\";\r\nimport { ARTICLE_DATA } from \"../CONSTANTS\";\r\nimport ErrorScreen from \"../screens/Error\";\r\nimport Image from \"../components/Image\";\r\n\r\n\r\nexport default function Detail() {\r\n\r\n  const query = new URLSearchParams(useLocation().search);\r\n  const _path = query.get(\"_path\");\r\n  const { data, errorMessage } = useGraphQL(null, `${ARTICLE_DATA}${_path}`);\r\n  if (errorMessage) return <ErrorScreen error={errorMessage} />;\r\n\r\n  const title = data?.adventureByPath?.item?.adventureTitle || false;\r\n  const descriptionJSON = data?.adventureByPath?.item?.adventureDescription?.json || false;\r\n  const imgSrc = data?.adventureByPath?.item?.adventurePrimaryImage?._path || false;\r\n\r\n  return (\r\n    <div style={styles.container} className=\"detail-screen\">\r\n      {!title && <div className=\"loading-skeleton\" style={styles.titleSkeleton}></div>}\r\n      {title && <h1 style={styles.title}>{title}</h1>}\r\n      <Image imgSrc={imgSrc} alt={title} />\r\n      <div style={styles.description}>\r\n        {descriptionJSON && descriptionJSON.map((node, key) => {\r\n          const Element = node.nodeType === \"header\" ? `${node.style}` : \"p\";\r\n          return <Element key={key}>{node.content.map(({ value }) => value)}</Element>\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  title: {\r\n    padding: \"1rem\",\r\n    fontSize: \"1.5rem\",\r\n    textTransform: \"uppercase\",\r\n    maxWidth: \"100%\",\r\n    margin: 0,\r\n  },\r\n  description: {\r\n    padding: \"1rem\",\r\n  },\r\n  titleSkeleton: {\r\n    height: \"2.5rem\",\r\n    width: \"85%\",\r\n    margin: \"1rem\"\r\n  }\r\n}","// Import the withMappable API provided bu the AEM SPA Editor JS SDK\r\nimport { withMappable, MapTo } from '@adobe/aem-react-editable-components';\r\n\r\n// Import the AEM React Core Components' Title component implementation and it's Empty Function \r\nimport { TitleV2, TitleV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\r\n\r\n// The sling:resourceType for which this Core Component is registered with in AEM\r\nconst RESOURCE_TYPE = \"wknd-app/components/title\";\r\n\r\n// Create an EditConfig to allow the AEM SPA Editor to properly render the component in the Editor's context\r\nconst EditConfig = {\r\n  emptyLabel: \"Title\",  // The component placeholder in AEM SPA Editor\r\n  isEmpty: TitleV2IsEmptyFn, // The function to determine if this component has been authored\r\n  resourceType: RESOURCE_TYPE // The sling:resourceType this component is mapped to\r\n};\r\n\r\n// MapTo allows the AEM SPA Editor JS SDK to dynamically render components added to SPA Editor Containers\r\nMapTo(RESOURCE_TYPE)(TitleV2, EditConfig);\r\n\r\n// withMappable allows the component to be hardcoded into the SPA; <AEMTitle .../>\r\nconst AEMTitle = withMappable(TitleV2, EditConfig);\r\n\r\nexport default AEMTitle;","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\r\nimport { TextV2, TextV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\r\n\r\nconst RESOURCE_TYPE = \"wknd-app/components/text\";\r\n\r\nconst EditConfig = {\r\n  emptyLabel: \"Text\",\r\n  isEmpty: TextV2IsEmptyFn,\r\n  resourceType: RESOURCE_TYPE\r\n};\r\n\r\nMapTo(RESOURCE_TYPE)(TextV2, EditConfig);\r\n\r\nconst AEMText = withMappable(TextV2, EditConfig);\r\n\r\nexport default AEMText;","// Import the withMappable API provided bu the AEM SPA Editor JS SDK\r\nimport { withMappable, MapTo } from '@adobe/aem-react-editable-components';\r\n\r\n// Import the AEM React Core Components' Teaser component implementation and it's Empty Function \r\nimport { TeaserV1, TeaserV1IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\r\n\r\n// The sling:resourceType for which this Core Component is registered with in AEM\r\nconst RESOURCE_TYPE = \"wknd-app/components/teaser\";\r\n\r\n// Create an EditConfig to allow the AEM SPA Editor to properly render the component in the Editor's context\r\nconst EditConfig = {\r\n  emptyLabel: \"Teaser\",  // The component placeholder in AEM SPA Editor\r\n  isEmpty: TeaserV1IsEmptyFn, // The function to determine if this component has been authored\r\n  resourceType: RESOURCE_TYPE // The sling:resourceType this component is mapped to\r\n};\r\n\r\n// MapTo allows the AEM SPA Editor JS SDK to dynamically render components added to SPA Editor Containers\r\nMapTo(RESOURCE_TYPE)(TeaserV1, EditConfig);\r\n\r\n// withMappable allows the component to be hardcoded into the SPA; <AEMTeaser .../>\r\nconst AEMTeaser = withMappable(TeaserV1, EditConfig);\r\n\r\nexport default AEMTeaser;","import { withMappable, MapTo } from '@adobe/aem-react-editable-components';\r\nimport { ImageV2, ImageV2IsEmptyFn } from \"@adobe/aem-core-components-react-base\";\r\n\r\nconst RESOURCE_TYPE = \"wknd-app/components/image\";\r\n\r\nconst EditConfig = {\r\n  emptyLabel: \"Image\",\r\n  isEmpty: ImageV2IsEmptyFn,\r\n  resourceType: RESOURCE_TYPE\r\n};\r\n\r\nMapTo(RESOURCE_TYPE)(ImageV2, EditConfig);\r\n\r\nconst AEMImage = withMappable(ImageV2, EditConfig);\r\n\r\nexport default AEMImage;","import \"./aem-responsive-grid.css\";\r\n\r\n// Import the withMappable API provided bu the AEM SPA Editor JS SDK\r\nimport { withMappable, MapTo } from '@adobe/aem-react-editable-components';\r\n\r\n// Import the base ResponsiveGrid component\r\nimport { ResponsiveGrid } from \"@adobe/aem-react-editable-components\";\r\n\r\n// The sling:resourceType for which this Core Component is registered with in AEM\r\nconst RESOURCE_TYPE = \"wcm/foundation/components/responsivegrid\";\r\n\r\n// Create an EditConfig to allow the AEM SPA Editor to properly render the component in the Editor's context\r\nconst EditConfig = {\r\n  emptyLabel: \"Layout Container\",  // The component placeholder in AEM SPA Editor\r\n  isEmpty: function (props) {\r\n    return props.cqItemsOrder == null || props.cqItemsOrder.length === 0;\r\n  },                              // The function to determine if this component has been authored\r\n  resourceType: RESOURCE_TYPE     // The sling:resourceType this SPA component is mapped to\r\n};\r\n\r\n// MapTo allows the AEM SPA Editor JS SDK to dynamically render components added to SPA Editor Containers\r\nMapTo(RESOURCE_TYPE)(ResponsiveGrid, EditConfig);\r\n\r\n// withMappable allows the component to be hardcoded into the SPA; <AEMResponsiveGrid .../>\r\nconst AEMResponsiveGrid = withMappable(ResponsiveGrid, EditConfig);\r\n\r\nexport default AEMResponsiveGrid;","import { Link } from \"react-router-dom\";\r\n\r\nimport \"./Home.css\";\r\n\r\nimport FeaturedTile from \"../components/FeaturedTile\";\r\nimport { Theme } from \"../CONSTANTS\";\r\nimport useGraphQL from \"../api/useGraphQL\";\r\nimport ErrorScreen from \"../screens/Error\";\r\nimport AEMTitle from \"../components/aem/aem-title\";\r\nimport AEMText from \"../components/aem/aem-text\";\r\nimport AEMTeaser from \"../components/aem/aem-teaser\";\r\nimport AEMImage from \"../components/aem/aem-image\";\r\nimport AEMResponsiveGrid from \"../components/aem/aem-responsive-grid\";\r\n\r\n\r\nfunction AdventuresList(data) {\r\n  if (!data) return <FeaturedTile />;\r\n  return data.adventureList.items.map((item, index) => (\r\n    <div style={{ width: \"85vw\" }}>\r\n      <FeaturedTile\r\n        key={index}\r\n        link={`/detail?_path=${item._path}`}\r\n        height=\"100%\"\r\n        title={item.adventureTitle}\r\n        imgSrc={item.adventurePrimaryImage._path || false}\r\n        contentWrapperStyles={{\r\n          backgroundColor: \"rgba(0,0,0,.5)\",\r\n          width: \"50%\",\r\n          height: \"100%\",\r\n        }}\r\n        textColor={Theme.colors.text}\r\n      />\r\n    </div>\r\n  ))\r\n}\r\nexport default function Home() {\r\n  const persistentQuery = \"wknd/adventures-all\";\r\n  const { data, errorMessage } = useGraphQL(null, persistentQuery);\r\n  const pagePath = \"/content/wknd-app/us/en/home\";\r\n\r\n  if (errorMessage) return <ErrorScreen error={errorMessage} />;\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* <Link to=\"/adventures\" style={styles.homepageHero}> */}\r\n      <div style={styles.homepageHero}>\r\n        <div style={styles.homepageHeroImage} className=\"homepage-hero-image-wrapper\">\r\n          <AEMImage styles={styles.homepageHeroImage} pagePath={pagePath} itemPath=\"root/image\" />\r\n        </div>\r\n        <div style={styles.homepageHeroTitleSearch}>\r\n          <div style={styles.homepageHeroTitle}>\r\n            <AEMTitle styles={styles.homepageHeroTitle} pagePath={pagePath} itemPath=\"root/title\" />\r\n          </div>\r\n          <input style={styles.homepageHeroSearch} placeholder=\"Find Adventures Near You\" />\r\n        </div>\r\n      </div>\r\n      {/* </Link> */}\r\n      <div style={styles.adventureList}>\r\n        {AdventuresList(data)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    flex: 1,\r\n    display: \"grid\",\r\n    gridTemplateRows: \"50% 50%\"\r\n  },\r\n  homepageHero: {\r\n    display: \"grid\",\r\n    gridTemplateAreas: `\"overlay\"`,\r\n    flex: 1,\r\n  },\r\n  homepageHeroTitleSearch: {\r\n    gridArea: \"overlay\",\r\n    alignSelf: \"flex-start\",\r\n    justifySelf: \"center\",\r\n    marginTop: \".5rem\",\r\n    textAlign: \"center\",\r\n    zIndex: 10,\r\n    position: \"relative\",\r\n  },\r\n  homepageHeroTitle: {\r\n    color: Theme.colors.background,\r\n  },\r\n  homepageHeroImage: {\r\n    gridArea: \"overlay\",\r\n  },\r\n  homepageHeroSearch: {\r\n    gridArea: \"overlay\",\r\n    alignSelf: \"flex-start\",\r\n    justifySelf: \"center\",\r\n    padding: \".5rem 1rem\",\r\n    marginTop: \".25rem\",\r\n    borderRadius: \"5rem\",\r\n    border: \"none\",\r\n    boxShadow: \"0 0 5px rgba(0,0,0,.1)\",\r\n  },\r\n  adventureListContainer: {\r\n    overflow: \"hidden\",\r\n    flex: 1,\r\n  },\r\n  adventureList: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    overflowX: \"auto\"\r\n  },\r\n}","\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { TiHome } from \"react-icons/ti\";\r\nimport { CgMenuGridR } from \"react-icons/cg\";\r\n\r\nimport { Theme } from \"../CONSTANTS\";\r\n\r\nexport default function TabBar() {\r\n\r\n  const location = useLocation();\r\n  const isHomeSelected = location.pathname === \"/\";\r\n  const isAdventuresSelected = location.pathname === \"/adventures\";\r\n  return (\r\n    <>\r\n      <div style={styles.tabsContainer}>\r\n        <nav style={styles.tabs}>\r\n          <Link to=\"/\" style={{ ...styles.tab, color: isHomeSelected ? Theme.colors.accent : Theme.colors.text, }}>\r\n            <TiHome size=\"2rem\" />\r\n            <span style={styles.tabText}>Home</span>\r\n          </Link>\r\n          <Link to=\"/adventures\" style={{ ...styles.tab, color: isAdventuresSelected ? Theme.colors.accent : Theme.colors.text, }}>\r\n            <CgMenuGridR size=\"2rem\" />\r\n            <span style={styles.tabText}>Adventures</span>\r\n          </Link>\r\n        </nav>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  tabsContainer: {\r\n    padding: \"0 20px\",\r\n    zIndex: 10,\r\n    backgroundColor: Theme.colors.background,\r\n    height: \"6rem\",\r\n  },\r\n  tabs: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    listStyle: \"none\",\r\n    margin: 0,\r\n    padding: 0,\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\"\r\n  },\r\n  tab: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    color: Theme.colors.text,\r\n    flex: 1,\r\n    padding: \"20px\",\r\n    textDecoration: \"none\"\r\n  },\r\n  tabText: {\r\n    fontFamily: \"Source Sans Pro\",\r\n  }\r\n}","import React from \"react\";\r\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\r\nimport Adventures from \"./screens/Adventures\";\r\nimport Detail from \"./screens/Detail\";\r\nimport Home from \"./screens/Home\";\r\n\r\nimport './App.css';\r\nimport { Theme } from \"./CONSTANTS\";\r\nimport TabBar from \"./components/TabBar\";\r\n\r\nexport default function App() {\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <HashRouter>\r\n        <Switch>\r\n          <Route exact path=\"/adventures\">\r\n            <Adventures />\r\n          </Route>\r\n          <Route path=\"/detail\">\r\n            <Detail />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Home />\r\n          </Route>\r\n        </Switch>\r\n        <TabBar />\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    minHeight: \"100vh\",\r\n    width: \"100vw\",\r\n    maxWidth: \"100%\",\r\n    position: \"relative\",\r\n    flexDirection: \"column\",\r\n    backgroundColor: Theme.colors.background,\r\n    paddingTop: \"10px\",\r\n    color: Theme.colors.text\r\n  },\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { ModelManager } from \"@adobe/aem-spa-page-model-manager\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\n// Initialize the ModelManager before invoking ReactDOM.render(...).\r\nModelManager.initializeAsync();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}