(this["webpackJsonpaem-guides-wknd-pwa"]=this["webpackJsonpaem-guides-wknd-pwa"]||[]).push([[0],{63:function(e,t,a){},73:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(37),c=a.n(i),o=a(27),s=(a(63),a(6)),l=a(4),d={primary:"#202020",accent:"#FFEB00",background:"#202020",surface:"#202020",error:"#B00020",text:"#fff",onSurface:"#000000",disabled:"rgb(255, 69, 58)",placeholder:"rgb(255, 69, 58)",backdrop:"rgb(255, 69, 58)",notification:"rgb(255, 69, 58)"},p=a(3),m=a(7),h="wknd-app/components/title",u={emptyLabel:"Title",isEmpty:m.TitleV2IsEmptyFn,resourceType:h};Object(p.MapTo)(h)(m.TitleV2,u);var j=Object(p.withMappable)(m.TitleV2,u),b="wknd-app/components/text",g={emptyLabel:"Text",isEmpty:m.TextV2IsEmptyFn,resourceType:b};Object(p.MapTo)(b)(m.TextV2,g);Object(p.withMappable)(m.TextV2,g);var v="wknd-app/components/teaser",x={emptyLabel:"Teaser",isEmpty:m.TeaserV1IsEmptyFn,resourceType:v};Object(p.MapTo)(v)(m.TeaserV1,x);Object(p.withMappable)(m.TeaserV1,x);var O="wknd-app/components/image",y={emptyLabel:"Image",isEmpty:m.ImageV2IsEmptyFn,resourceType:O};Object(p.MapTo)(O)(m.ImageV2,y);var f=Object(p.withMappable)(m.ImageV2,y),T=(a(73),"wcm/foundation/components/responsivegrid"),P={emptyLabel:"Layout Container",isEmpty:function(e){return null==e.cqItemsOrder||0===e.cqItemsOrder.length},resourceType:T};Object(p.MapTo)(T)(p.ResponsiveGrid,P);Object(p.withMappable)(p.ResponsiveGrid,P);var w=a(30),S=w.CarouselV1,I="wknd-app/components/carousel",_={emptyLabel:"Carousel",isEmpty:w.CarouselV1IsEmptyFn,resourceType:I};Object(p.MapTo)(I)(S,_);Object(p.withMappable)(S,_);var H=a(1);function A(e){var t=e.error;return Object(H.jsxs)("div",{className:"content",children:[Object(H.jsx)("h1",{children:"Error"}),Object(H.jsx)("span",{children:t.message})]})}var k=a(11),C=a(75).AEMHeadless,L=Object({NODE_ENV:"production",PUBLIC_URL:"/aem-guides-wknd-pwa",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORIZATION:'["remote-spa","remote-spa"]',REACT_APP_CONTENT_PATH:"/content/wknd-app/us/en",REACT_APP_GRAPHQL_ENDPOINT:"/content/graphql/global/endpoint.json",REACT_APP_HOST_URI:"https://publish-p25404-e45662-cmstg.adobeaemcloud.com/",REACT_APP_PUBLIC_URI:"https://ez-aem.github.io/aem-guides-wknd-pwa/"}),E=L.REACT_APP_PUBLIC_URI,N=L.REACT_APP_GRAPHQL_ENDPOINT,R=L.REACT_APP_AUTHORIZATION;var M=function(e,t){var a=Object(n.useState)(null),r=Object(k.a)(a,2),i=r[0],c=r[1],o=Object(n.useState)(null),s=Object(k.a)(o,2),l=s[0],d=s[1];return Object(n.useEffect)((function(){var a=new C({serviceURL:E,endpoint:N,auth:R});(e?a.runQuery.bind(a):a.runPersistedQuery.bind(a))(e||t).then((function(e){var t=e.data,a=e.errors;a&&d(function(e){return e.map((function(e){return e.message})).join(",")}(a)),t&&c(t)})).catch((function(e){d(e)}))}),[e,t]),{data:i,errorMessage:l}};a(84);function F(){var e=Object(n.useState)(!1),t=Object(k.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(D),c=Object(k.a)(i,2),o=c[0],l=(c[1],Object(n.useState)(!1)),d=Object(k.a)(l,2),p=d[0],m=d[1],h=Object(n.useState)([]),u=Object(k.a)(h,2),j=u[0],b=u[1],g=M(o,"wknd/adventures-all"),v=g.data,x=g.errorMessage;if(x)return Object(H.jsx)(A,{error:x});if(!v)return Object(H.jsx)("div",{children:"Loading..."});!p&&v.adventureList.items&&m(z(v.adventureList.items));return Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{className:"search-by-category-container",children:Object(H.jsx)("ul",{className:"search-by-category",children:p&&Object.keys(p).map((function(e,t){var n=p[e],i=a===n.adventureActivity?"selected":"";return Object(H.jsxs)("li",{className:"search-by-category-item",onClick:function(){return e=n.adventureActivity,r(e),void b(B(v.adventureList.items,e));var e},children:[Object(H.jsx)("img",{className:"search-by-category-item-image ".concat(i),src:n.adventurePrimaryImage._path,alt:n.adventureTitle}),Object(H.jsx)("p",{children:n.adventureActivity||"Miscellaneous"})]})}))})}),Object(H.jsx)("div",{className:"search-by-category-container",children:Object(H.jsx)("ul",{className:"search-by-category",children:j&&j.map((function(e){return Object(H.jsx)("li",{className:"search-by-category-item",children:Object(H.jsxs)(s.Link,{to:"/detail?_path=".concat(e._path),children:[Object(H.jsx)("img",{className:"search-by-category-item-image",src:e.adventurePrimaryImage._path,alt:e.adventureTitle}),Object(H.jsx)("p",{children:e.adventureTitle})]})})}))})})]})}var z=function(e){var t={};return e.forEach((function(e){if(e.adventureActivity){var a=function(e){return e.toLowerCase().replace(" ","-")}(e.adventureActivity);t.hasOwnProperty(a)||(t[a]=e)}else t.miscellaneous=e})),t},B=function(e,t){return e.filter((function(e){return e.adventureActivity===t}))},D="\n  {\n    adventureList {\n      items {\n        _path\n        adventureActivity\n        adventureTitle\n        adventurePrimaryImage {\n          ...on ImageRef {\n            _path\n            mimeType\n            width\n            height\n          }\n        }\n      }\n    }\n  }",V="".concat("/content/wknd-app/us/en","/home/adventures");function U(){return Object(H.jsxs)("div",{className:"content",style:W.container,children:[Object(H.jsxs)("div",{style:W.searchBox,children:[Object(H.jsx)("div",{style:W.homepageHeroImage,className:"homepage-hero-image-wrapper",children:Object(H.jsx)(f,{styles:W.homepageHeroImage,pagePath:V,itemPath:"root/image"},"search-image")}),Object(H.jsxs)("div",{style:W.homepageHeroTitleSearch,children:[Object(H.jsx)("div",{style:W.homepageHeroTitle,children:Object(H.jsx)(j,{styles:W.homepageHeroTitle,pagePath:V,itemPath:"root/title"},"search-title")}),Object(H.jsx)("input",{style:W.homepageHeroSearch,placeholder:"Find Your Next Adventure"})]})]}),Object(H.jsxs)("div",{style:W.searchByCategory,children:[Object(H.jsx)(j,{styles:W.homepageHeroTitle,pagePath:V,itemPath:"root/title-categories"},"search-title-categories"),Object(H.jsx)(F,{})]})]})}var W={container:{},searchBox:{height:"10rem",minHeight:"10rem",position:"relative",overflow:"hidden"},searchResults:{padding:"1rem"},homepageHero:{flex:1,position:"relative"},homepageHeroTitleSearch:{position:"absolute",top:".5rem",left:0,right:0,marginTop:".5rem",textAlign:"center",zIndex:10},homepageHeroTitle:{color:d.background},homepageHeroImage:{position:"absolute",top:0,right:0,bottom:0,left:0},homepageHeroSearch:{gridArea:"overlay",alignSelf:"flex-start",justifySelf:"center",padding:".5rem 1rem",marginTop:".25rem",borderRadius:"5rem",border:"none",boxShadow:"0 0 5px rgba(0,0,0,.1)"},searchByCategory:{padding:"1rem"}};function G(e){var t,a=e.imgSrc,n=e.title;return Object(H.jsx)("div",{style:Q.imageContainer,className:"loading-skeleton",children:a&&Object(H.jsx)("img",{src:(t=a,!!t&&(t.startsWith("http")||(t="".concat("https://ez-aem.github.io/aem-guides-wknd-pwa/").concat(t)).includes("//content")&&(t=t.replace("//content","/content")),t)),style:Q.image,alt:n})})}var Q={imageContainer:{position:"relative",paddingTop:"55%",overflow:"hidden"},image:{width:"100%",maxWidth:"100%",position:"absolute",top:0,right:0,bottom:0,left:0,objectFit:"cover"}};function q(){var e,t,a,n,r,i,c,o,s=new URLSearchParams(Object(l.l)().search).get("_path"),d=M(function(e){return'{\n    adventureByPath (_path: "'.concat(e,'") {\n      item {\n        _path\n          adventureTitle\n          adventureActivity\n          adventureType\n          adventurePrice\n          adventureTripLength\n          adventureGroupSize\n          adventureDifficulty\n          adventurePrice\n          adventurePrimaryImage {\n            ... on ImageRef {\n              _path\n              mimeType\n              width\n              height\n            }\n          }\n          adventureDescription {\n            html\n            json\n          }\n          adventureItinerary {\n            html\n            json\n          }\n      }\n    }\n  }\n  ')}(s)),p=d.data,m=d.errorMessage;if(m)return Object(H.jsx)(A,{error:m});var h=(null===p||void 0===p||null===(e=p.adventureByPath)||void 0===e||null===(t=e.item)||void 0===t?void 0:t.adventureTitle)||!1,u=(null===p||void 0===p||null===(a=p.adventureByPath)||void 0===a||null===(n=a.item)||void 0===n||null===(r=n.adventureDescription)||void 0===r?void 0:r.json)||!1,j=(null===p||void 0===p||null===(i=p.adventureByPath)||void 0===i||null===(c=i.item)||void 0===c||null===(o=c.adventurePrimaryImage)||void 0===o?void 0:o._path)||!1;return Object(H.jsxs)("div",{className:"content detail-screen",style:J.container,children:[!h&&Object(H.jsx)("div",{className:"loading-skeleton",style:J.titleSkeleton}),h&&Object(H.jsx)("h1",{style:J.title,children:h}),Object(H.jsx)(G,{imgSrc:j,alt:h}),Object(H.jsx)("div",{style:J.description,children:u&&u.map((function(e,t){var a="header"===e.nodeType?"".concat(e.style):"p";return Object(H.jsx)(a,{children:e.content.map((function(e){return e.value}))},t)}))})]})}var J={container:{flex:1},title:{padding:"1rem",fontSize:"1.5rem",textTransform:"uppercase",maxWidth:"100%",margin:0},description:{padding:"1rem"},titleSkeleton:{height:"2.5rem",width:"85%",margin:"1rem"}};var K=a(12),Y=(a(85),"".concat("/content/wknd-app/us/en","/home"));function Z(){return Object(H.jsxs)("div",{className:"content",style:X.container,children:[Object(H.jsxs)(s.Link,{to:"/adventures",style:X.homepageHero,children:[Object(H.jsx)("div",{style:X.homepageHeroImage,className:"homepage-hero-image-wrapper",children:Object(H.jsx)(f,{styles:X.homepageHeroImage,pagePath:Y,itemPath:"root/image"},"search-image")}),Object(H.jsxs)("div",{style:X.homepageHeroTitleSearch,children:[Object(H.jsx)("div",{style:X.homepageHeroTitle,children:Object(H.jsx)(j,{styles:X.homepageHeroTitle,pagePath:Y,itemPath:"root/title"},"search-title")}),Object(H.jsx)("input",{style:X.homepageHeroSearch,placeholder:"Find Adventures Near You"})]})]}),Object(H.jsxs)(s.Link,{to:"/magazine",style:X.homepageHero,children:[Object(H.jsx)("div",{style:X.homepageHeroImage,className:"homepage-hero-image-wrapper",children:Object(H.jsx)(f,{styles:X.homepageHeroImage,pagePath:Y,itemPath:"root/image-featured-articles"},"featured-article-image")}),Object(H.jsx)("div",{style:X.homepageHeroTitleSearch,children:Object(H.jsx)("div",{style:Object(K.a)(Object(K.a)({},X.homepageHeroTitle),{},{textAlign:"left",paddingLeft:"1rem"}),children:Object(H.jsx)(j,{styles:X.homepageHeroTitle,pagePath:Y,itemPath:"root/title-featured-articles"},"featured-article-title")})})]})]})}var X={container:{},homepageHero:{flex:1,position:"relative"},homepageHeroTitleSearch:{position:"absolute",top:".5rem",left:0,right:0,marginTop:".5rem",textAlign:"center",zIndex:10},homepageHeroTitle:{color:d.background},homepageHeroImage:{position:"absolute",top:0,right:0,bottom:0,left:0},homepageHeroSearch:{gridArea:"overlay",alignSelf:"flex-start",justifySelf:"center",padding:".5rem 1rem",marginTop:".25rem",borderRadius:"5rem",border:"none",boxShadow:"0 0 5px rgba(0,0,0,.1)"},adventureListContainer:{overflow:"hidden",flex:1},adventureList:{display:"flex",flexDirection:"row",overflowX:"auto"},carousel:{}};function $(e){var t,a=e._path,n=e.title,r=(e.description,e.imgSrc),i=e.descriptionJSON,c=!1;if(i){var o=i.filter((function(e){return"header"!==e.nodeType}));o.length>0&&(c=(t=(t=o[0].content[0].value).substr(0,65)).substr(0,Math.min(t.length,t.lastIndexOf(" ")))+"...")}return Object(H.jsx)("div",{style:ee.container,children:Object(H.jsxs)(s.Link,{to:"/detail?_path=".concat(a),style:ee.link,children:[Object(H.jsx)(G,{imgSrc:r,title:n}),Object(H.jsx)("h3",{style:ee.title,children:n}),c&&Object(H.jsx)("p",{style:ee.description,children:c})]})})}var ee={container:{flex:1},link:{textDecoration:"none",color:d.text},title:{textTransform:"uppercase",marginTop:".5rem"},description:{margin:0}};function te(e){return!!e&&Object(H.jsx)("div",{style:re.list,children:e.map((function(e,t){var a,n=e._path,r=(null===e||void 0===e?void 0:e.adventureTitle)||!1,i=(null===e||void 0===e||null===(a=e.adventurePrimaryImage)||void 0===a?void 0:a._path)||!1;return Object(H.jsx)("div",{style:re.adventureCard,children:Object(H.jsx)($,{_path:n,title:r,imgSrc:i})},t)}))})}var ae="".concat("/content/wknd-app/us/en","/home/magazine");function ne(){var e,t=!1,a=Object(n.useState)(""),r=Object(k.a)(a,2),i=r[0],c=(r[1],M(i,"wknd/adventures-all")),o=c.data,s=c.errorMessage;return s?Object(H.jsx)(A,{error:s}):((null===o||void 0===o||null===(e=o.adventureList)||void 0===e?void 0:e.items)&&(t=o.adventureList.items),Object(H.jsxs)("div",{className:"content",style:re.container,children:[Object(H.jsx)("div",{style:re.pageTitle,children:Object(H.jsx)(j,{pagePath:ae,itemPath:"root/title"},"title")}),t&&te(t)]}))}var re={container:{},pageTitle:{padding:"1rem"},adventureCard:{padding:"1rem"}},ie=(a(86),a(39)),ce=a(40),oe=a(41);function se(){var e=Object(l.l)(),t="/"===e.pathname,a="/adventures"===e.pathname,n="/magazine"===e.pathname;return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("div",{style:le.tabsContainer,children:Object(H.jsxs)("nav",{style:le.tabs,children:[Object(H.jsxs)(s.Link,{to:"/",style:Object(K.a)(Object(K.a)({},le.tab),{},{color:t?d.accent:d.text}),children:[Object(H.jsx)(ie.a,{size:"2rem"}),Object(H.jsx)("span",{style:le.tabText,children:"Home"})]}),Object(H.jsxs)(s.Link,{to:"/adventures",style:Object(K.a)(Object(K.a)({},le.tab),{},{color:a?d.accent:d.text}),children:[Object(H.jsx)(ce.a,{size:"2rem"}),Object(H.jsx)("span",{style:le.tabText,children:"Adventures"})]}),Object(H.jsxs)(s.Link,{to:"/magazine",style:Object(K.a)(Object(K.a)({},le.tab),{},{color:n?d.accent:d.text}),children:[Object(H.jsx)(oe.a,{size:"2rem"}),Object(H.jsx)("span",{style:le.tabText,children:"Magazine"})]})]})})})}var le={tabsContainer:{zIndex:10,backgroundColor:d.background,height:"6rem"},tabs:{display:"flex",flexDirection:"row",listStyle:"none",margin:0,padding:0,alignItems:"center",justifyContent:"space-evenly",overflow:"hidden"},tab:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:d.text,flex:1,padding:"20px",textDecoration:"none",flexBasis:"25%"},tabText:{fontFamily:"Source Sans Pro"}};function de(){return Object(H.jsx)("div",{style:pe.container,children:Object(H.jsxs)(s.HashRouter,{children:[Object(H.jsxs)(l.g,{children:[Object(H.jsx)(l.d,{exact:!0,path:"/adventures",children:Object(H.jsx)(U,{})}),Object(H.jsx)(l.d,{path:"/detail",children:Object(H.jsx)(q,{})}),Object(H.jsx)(l.d,{path:"/magazine",children:Object(H.jsx)(ne,{})}),Object(H.jsx)(l.d,{path:"/",children:Object(H.jsx)(Z,{})})]}),Object(H.jsx)(se,{})]})})}var pe={container:{display:"flex",flex:1,minHeight:"100vh",maxHeight:"100%",width:"100vw",maxWidth:"100%",position:"relative",flexDirection:"column",backgroundColor:d.background,paddingTop:"10px",color:d.text}},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,88)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};o.ModelManager.initializeAsync("/content/wknd-app/us/en"),c.a.render(Object(H.jsx)(r.a.StrictMode,{children:Object(H.jsx)(de,{})}),document.getElementById("root")),me()}},[[87,1,2]]]);
//# sourceMappingURL=main.fbd84cc8.chunk.js.map